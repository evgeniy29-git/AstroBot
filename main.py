#01fac9ae579e4eadb5c080253e952fcf

#API_TOKEN = '7587830695:AAEp84As5-YxFi2RScnGnTpjc7v7iekua-E'
import telebot
import swisseph as swe
import matplotlib.pyplot as plt
from geopy.geocoders import OpenCage

# Ваш токен API
API_TOKEN = '7587830695:AAEp84As5-YxFi2RScnGnTpjc7v7iekua-E'
bot = telebot.TeleBot(API_TOKEN)

# Установите путь к файлам эфемерид
swe.set_ephe_path("PythonProject57/ephemeris")  # Замените на путь к вашим файлам

# Настройка геокодера OpenCage
geolocator = OpenCage(api_key='01fac9ae579e4eadb5c080253e952fcf')

# Интерпретации планет в знаках
interpretations = {
    "sun": {
        "aries": "Солнце в Овне."
                 "\n\nКлючевые черты: Овен известен своей энергичностью, решительностью и смелостью. Люди с Солнцем в Овне часто проявляют лидерские качества и стремятся к новым начинаниям. Они ценят инициативу и любят быть первыми, особенно в тех делах, которые требуют мужества и решительности."
                 "\n\nПоложительные качества: Сила воли, активность, уверенность в себе, смелость."
                 "\n\nВозможные слабости: Нетерпеливость, импульсивность, конфликтность. Овны могут быть слишком резкими и прямолинейными, что иногда приводит к разногласиям с окружающими. Их стремление к действию может иногда приводить к непродуманным поступкам.",
        "taurus": "Солнце в Тельце."
                  "\n\nКлючевые черты: Телец символизирует стабильность, надежность и прагматизм. Люди с Солнцем в Тельце ценят комфорт и безопасность. Они склонны к материализму и любят окружать себя роскошными и приятными вещами."
                  "\n\nПоложительные качества: Терпеливость, настойчивость, верность, надежность."
                  "\n\nВозможные слабости: Упрямство, инертность, привязанность к материальным вещам. Тельцы могут быть слишком зациклены на комфорте и материальных благах, что может ограничивать их рост и развитие. Они могут быть медлительными и склонны к консерватизму.",
        "gemini": "Солнце в Близнецах. "
                  "\n\nКлючевые черты: Близнецы известны своей общительностью, любознательностью и адаптивностью. Люди с Солнцем в Близнецах обожают обмениваться идеями и находить новые способы коммуникации. Они быстро приспосабливаются к изменениям и любят разнообразие."
                  "\n\nПоложительные качества: Интеллектуальность, гибкость, живость ума, общительность."
                  "\n\nВозможные слабости: Непостоянство, поверхностность, излишняя нервозность. Близнецы могут быстро терять интерес к проектам и людям, что делает их непоследовательными. Их любовь к разнообразию может мешать углублению знаний и отношений.",
        "cancer": "Солнце в Раке."
                  "\n\nКлючевые черты: Рак символизирует эмоциональность, заботливость и интуицию. Люди с Солнцем в Раке ценят семейные узы и стремятся создать уютное и безопасное пространство для своих близких. Они обладают сильной интуицией и эмоциональной глубиной."
                  "\n\nПоложительные качества: Чуткость, преданность, понимание, интуиция."
                  "\n\nВозможные слабости: Замкнутость, обидчивость, излишняя зависимость от других. Раки могут быть слишком чувствительными и склонны к перепадам настроения. Они могут быть слишком привязаны к прошлому и своим эмоциональным связям.",
        "leo": "Солнце во Льве. "
               "\n\nКлючевые черты: Лев известен своей харизмой, горделивостью и великодушием. Люди с Солнцем во Льве любят быть в центре внимания и стремятся к признанию. Они излучают уверенность и часто вдохновляют других."
               "\n\nПоложительные качества: Щедрость, смелость, лидерство, харизма."
               "\n\nВозможные слабости: Высокомерие, стремление к драматизации, эгоцентризм. Львы могут быть слишком самоуверенными и требовательными к вниманию. Их стремление к признанию может приводить к чрезмерной драматичности и эгоцентризму.",
        "virgo": "Солнце в Деве."
                 "\n\nКлючевые черты: Дева символизирует практичность, внимательность к деталям и организованность. Люди с Солнцем в Деве стремятся к совершенству и проявляют аналитические способности. Они ценят порядок и структуру в своей жизни."
                 "\n\nПоложительные качества: Скрупулезность, надежность, разумность, организованность."
                 "\n\nВозможные слабости: Критичность, чрезмерная требовательность, тревожность. Девы могут быть слишком придирчивыми и критичными как к себе, так и к другим. Их стремление к совершенству может вызывать у них тревожность и беспокойство.",
        "libra": "Солнце в Весах. "
                 "\n\nКлючевые черты: Весы известны своей дипломатичностью, стремлением к гармонии и справедливости. Люди с Солнцем в Весах ценят баланс и часто проявляют способности к урегулированию конфликтов. Они стремятся к созданию гармоничных отношений и окружения."
                 "\n\nПоложительные качества: Обаяние, тактичность, чувство справедливости, гармония."
                 "\n\nВозможные слабости: Нерешительность, склонность к угождению другим, избегание конфликтов. Весы могут быть слишком зависимыми от мнения окружающих и стремиться угодить всем, что затрудняет принятие решений. Их желание избегать конфликтов может приводить к нерешительности.",
        "scorpio": "Солнце в Скорпионе. "
                   "\n\nКлючевые черты: Скорпион символизирует страсть, интенсивность и загадочность. Люди с Солнцем в Скорпионе стремятся к глубоким изменениям и обладают сильной волей. Они стремятся к эмоциональной и физической трансформации."
                   "\n\nПоложительные качества: Решительность, преданность, проницательность, интенсивность."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям. Скорпионы могут быть слишком ревнивыми и подозрительными, что приводит к недоверию в отношениях. Их стремление к контролю может вызывать желание манипулировать окружающими.",
        "sagittarius": "Солнце в Стрельце. "
                       "\n\nКлючевые черты: Стрелец известен своим оптимизмом, свободолюбием и жаждой знаний. Люди с Солнцем в Стрельце любят приключения и стремятся к расширению своих горизонтов. Они ценят свободу и независимость."
                       "\n\nПоложительные качества: Открытость, энтузиазм, прямолинейность, оптимизм."
                       "\n\nВозможные слабости: Беспечность, излишняя прямолинейность, нетерпеливость. Стрельцы могут быть слишком беспечными и склонны к неосторожным поступкам. Их прямолинейность иногда приводит к тактичности и непониманию со стороны других.",
        "capricorn": "Солнце в Козероге."
                     "\n\nКлючевые черты: Козерог символизирует амбициозность, дисциплину и ответственность. Люди с Солнцем в Козероге стремятся к успеху и стабильности. Они часто проявляют целеустремленность и настойчивость в достижении своих целей."
                     "\n\nПоложительные качества: Надежность, усердие, терпение, амбициозность."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии. Козероги могут быть слишком строгими и требовательными к себе и другим. Их стремление к успеху может вызывать чрезмерный стресс и пессимизм.",
        "aquarius": "Солнце в Водолее."
                    "\n\nКлючевые черты: Водолей известен своим новаторским мышлением, независимостью и гуманизмом. Люди с Солнцем в Водолее часто стремятся к свободе и оригинальности. Они ценят прогресс и часто проявляют интерес к общественным и глобальным вопросам. Вам может быть свойственно мыслить вне рамок и искать уникальные решения проблем."
                    "\n\nПоложительные качества: Креативность, оригинальность, дружелюбие, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность. Водолеи могут быть слишком непредсказуемыми и отчужденными, что затрудняет установление глубоких связей. Их стремление к оригинальности иногда приводит к эксцентричности.",
        "pisces": "Солнце в Рыбах."
                  "\n\nКлючевые черты: Рыбы символизируют мечтательность, чувствительность и интуицию. Люди с Солнцем в Рыбах обладают сильной эмпатией и часто проявляют художественные таланты. Они склонны к духовным поискам и глубокой эмоциональной связи."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция, чувствительность."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность. Рыбы могут быть слишком подвержены иллюзиям и склонны к излишней эмоциональности. Их неуверенность иногда приводит к затруднениям в принятии решений."
    },

    "moon": {
        "aries": "Луна в Овне."
                 "\n\nКлючевые черты: Луна в Овне указывает на людей с энергичными и импульсивными эмоциональными реакциями. Они часто действуют спонтанно и решительно, когда дело касается их чувств. Их эмоциональная жизнь полна страсти и энтузиазма."
                 "\n\nПоложительные качества: Смелость, энтузиазм, непосредственность."
                 "\n\nВозможные слабости: Нетерпеливость, импульсивность, склонность к вспышкам гнева.",
        "taurus": "Луна в Тельце."
                  "\n\nКлючевые черты: Луна в Тельце указывает на людей, которые ценят стабильность и комфорт в своих эмоциональных связях. Они ищут безопасность и спокойствие в своих отношениях и стремятся к эмоциональному равновесию."
                  "\n\nПоложительные качества: Надежность, стабильность, терпеливость."
                  "\n\nВозможные слабости: Упрямство, излишняя привязанность к материальным вещам, склонность к консерватизму.",
        "gemini": "Луна в Близнецах."
                  "\n\nКлючевые черты: Луна в Близнецах указывает на людей с быстрой и изменчивой эмоциональной жизнью. Они любят обмениваться идеями и эмоциями, и их чувства часто подвержены переменам."
                  "\n\nПоложительные качества: Общительность, интеллектуальность, гибкость."
                  "\n\nВозможные слабости: Непостоянство, поверхностность, нервозность.",
        "cancer": "Луна в Раке."
                  "\n\nКлючевые черты: Луна в Раке указывает на людей с глубокими и интуитивными эмоциональными связями. Они ценят семейные узы и стремятся к эмоциональной безопасности. Их чувства часто глубоки и сильны."
                  "\n\nПоложительные качества: Чуткость, заботливость, интуиция."
                  "\n\nВозможные слабости: Обидчивость, склонность к перепадам настроения, излишняя зависимость от других.",
        "leo": "Луна во Льве."
               "\n\nКлючевые черты: Луна во Льве указывает на людей с яркими и драматичными эмоциональными реакциями. Они стремятся к признанию и одобрению со стороны других. Их эмоции часто проявляются с большой интенсивностью и экспрессией."
               "\n\nПоложительные качества: Харизма, великодушие, уверенность."
               "\n\nВозможные слабости: Эгоцентризм, стремление к драматизации, потребность в признании.",
        "virgo": "Луна в Деве."
                 "\n\nКлючевые черты: Луна в Деве указывает на людей с практичным и аналитическим подходом к своим эмоциям. Они стремятся к порядку и структуре в своей эмоциональной жизни. Их чувства часто проявляются через заботу о других."
                 "\n\nПоложительные качества: Скрупулезность, надежность, внимательность."
                 "\n\nВозможные слабости: Критичность, тревожность, излишняя требовательность.",
        "libra": "Луна в Весах."
                 "\n\nКлючевые черты: Луна в Весах указывает на людей, которые стремятся к гармонии и балансу в своих эмоциональных связях. Они ценят красоту и эстетику в отношениях и стремятся к созданию гармоничных и равноправных партнерств."
                 "\n\nПоложительные качества: Дипломатичность, обаяние, чувство справедливости."
                 "\n\nВозможные слабости: Нерешительность, склонность к угождению другим, избегание конфликтов.",
        "scorpio": "Луна в Скорпионе."
                   "\n\nКлючевые черты: Луна в Скорпионе указывает на людей с глубокими и интенсивными эмоциональными переживаниями. Они стремятся к эмоциональной трансформации и часто испытывают сильные и иногда экстремальные чувства."
                   "\n\nПоложительные качества: Проницательность, страстность, решительность."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям.",
        "sagittarius": "Луна в Стрельце."
                       "\n\nКлючевые черты: Луна в Стрельце указывает на людей с оптимистичным и открытым подходом к своим эмоциям. Они любят приключения и свободу и стремятся к расширению своих эмоциональных горизонтов."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, прямолинейность."
                       "\n\nВозможные слабости: Беспечность, излишняя прямолинейность, нетерпеливость.",
        "capricorn": "Луна в Козероге."
                     "\n\nКлючевые черты: Луна в Козероге указывает на людей с дисциплинированным и ответственным подходом к своим эмоциям. Они ценят стабильность и структурированность в своих эмоциональных связях и стремятся к достижению своих целей."
                     "\n\nПоложительные качества: Надежность, усердие, терпение."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии.",
        "aquarius": "Луна в Водолее."
                    "\n\nКлючевые черты: Луна в Водолее указывает на людей с новаторским и независимым подходом к своим эмоциям. Они ценят свободу и оригинальность в своих эмоциональных связях и стремятся к прогрессивным и гуманистическим идеям."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность.",
        "pisces": "Луна в Рыбах."
                  "\n\nКлючевые черты: Луна в Рыбах указывает на людей с мечтательным и интуитивным подходом к своим эмоциям. Они обладают сильной эмпатией и часто проявляют художественные таланты. Их чувства часто глубоки и проникновенны."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    },
    "mercury": {
        "aries": "Меркурий в Овне."
                 "\n\nКлючевые черты: Меркурий в Овне указывает на быстрый и решительный ум. Люди с Меркурием в Овне склонны к прямолинейности и откровенности в общении. Они часто проявляют инициативу в интеллектуальных делах и не боятся высказывать своё мнение."
                 "\n\nПоложительные качества: Быстрая реакция, решительность, смелость."
                 "\n\nВозможные слабости: Импульсивность, нетерпеливость, резкость.",
        "taurus": "Меркурий в Тельце."
                  "\n\nКлючевые черты: Меркурий в Тельце указывает на медленный, но устойчивый ум. Люди с Меркурием в Тельце склонны к практическому и прагматичному подходу к решению проблем. Они ценят материальные и чувственные аспекты жизни."
                  "\n\nПоложительные качества: Терпеливость, надёжность, практичность."
                  "\n\nВозможные слабости: Медлительность, упрямство, склонность к консерватизму.",
        "gemini": "Меркурий в Близнецах."
                  "\n\nКлючевые черты: Меркурий в Близнецах указывает на быстрый, остроумный и любознательный ум. Люди с Меркурием в Близнецах любят общаться и обмениваться идеями. Они легко усваивают новую информацию и обладают отличными коммуникативными навыками."
                  "\n\nПоложительные качества: Остроумие, общительность, гибкость."
                  "\n\nВозможные слабости: Поверхностность, непостоянство, склонность к рассеянности.",
        "cancer": "Меркурий в Раке."
                  "\n\nКлючевые черты: Меркурий в Раке указывает на чувствительный и интуитивный ум. Люди с Меркурием в Раке склонны к эмоциональному восприятию информации и обладают хорошей памятью. Они часто руководствуются интуицией в принятии решений."
                  "\n\nПоложительные качества: Чуткость, интуиция, отличная память."
                  "\n\nВозможные слабости: Обидчивость, субъективность, склонность к перепадам настроения.",
        "leo": "Меркурий во Льве."
               "\n\nКлючевые черты: Меркурий во Льве указывает на выразительный и уверенный ум. Люди с Меркурием во Льве обладают отличными навыками самопрезентации и любят быть в центре внимания. Они склонны к драматизации и стремятся впечатлить окружающих."
               "\n\nПоложительные качества: Харизма, уверенность, творческое мышление."
               "\n\nВозможные слабости: Эгоцентризм, стремление к драматизации, потребность в признании.",
        "virgo": "Меркурий в Деве."
                 "\n\nКлючевые черты: Меркурий в Деве указывает на аналитический и практичный ум. Люди с Меркурием в Деве склонны к внимательности к деталям и стремятся к порядку. Они обладают отличными организационными способностями и любят анализировать информацию."
                 "\n\nПоложительные качества: Скрупулезность, надёжность, аналитичность."
                 "\n\nВозможные слабости: Критичность, тревожность, излишняя требовательность.",
        "libra": "Меркурий в Весах."
                 "\n\nКлючевые черты: Меркурий в Весах указывает на дипломатичный и уравновешенный ум. Люди с Меркурием в Весах стремятся к гармонии и справедливости в своих мыслях и словах. Они обладают отличными навыками общения и умеют разрешать конфликты."
                 "\n\nПоложительные качества: Дипломатичность, обаяние, чувство справедливости."
                 "\n\nВозможные слабости: Нерешительность, склонность к угождению другим, избегание конфликтов.",
        "scorpio": "Меркурий в Скорпионе."
                   "\n\nКлючевые черты: Меркурий в Скорпионе указывает на глубокий и проницательный ум. Люди с Меркурием в Скорпионе склонны к исследованию скрытых истин и обладают мощной интуицией. Они любят разгадывать тайны и стремятся к глубинному пониманию вещей."
                   "\n\nПоложительные качества: Проницательность, страстность, решительность."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям.",
        "sagittarius": "Меркурий в Стрельце."
                       "\n\nКлючевые черты: Меркурий в Стрельце указывает на открытый и философский ум. Люди с Меркурием в Стрельце стремятся к знаниям и любят исследовать новые идеи. Они обладают оптимистичным взглядом на жизнь и стремятся к расширению своих горизонтов."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, прямолинейность."
                       "\n\nВозможные слабости: Беспечность, излишняя прямолинейность, нетерпеливость.",
        "capricorn": "Меркурий в Козероге."
                     "\n\nКлючевые черты: Меркурий в Козероге указывает на дисциплинированный и целеустремленный ум. Люди с Меркурием в Козероге стремятся к практическим и реалистичным решениям. Они обладают отличными организаторскими способностями и стремятся к достижению своих целей."
                     "\n\nПоложительные качества: Надежность, усердие, терпение."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии.",
        "aquarius": "Меркурий в Водолее."
                    "\n\nКлючевые черты: Меркурий в Водолее указывает на новаторский и оригинальный ум. Люди с Меркурием в Водолее склонны к прогрессивным и гуманистическим идеям. Они обладают креативным мышлением и стремятся к инновациям и оригинальным решениям."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность.",
        "pisces": "Меркурий в Рыбах."
                  "\n\nКлючевые черты: Меркурий в Рыбах указывает на мечтательный и интуитивный ум. Люди с Меркурием в Рыбах обладают богатым воображением и склонны к художественным проявлениям. Они часто руководствуются интуицией и чувствами в принятии решений."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    },
    "venus": {
        "aries": "Венера в Овне."
                 "\n\nКлючевые черты: Венера в Овне указывает на страстные и импульсивные эмоции в отношениях. Люди с Венерой в Овне склонны к быстрому проявлению своих чувств и любят инициативу в любви. Они стремятся к возбуждающим и динамичным отношениям."
                 "\n\nПоложительные качества: Страсть, инициативность, честность."
                 "\n\nВозможные слабости: Нетерпеливость, импульсивность, склонность к конфронтации.",
        "taurus": "Венера в Тельце."
                  "\n\nКлючевые черты: Венера в Тельце указывает на людей, которые ценят комфорт и стабильность в любви. Они склонны к построению долгосрочных и надежных отношений и часто стремятся к материальной и эмоциональной безопасности."
                  "\n\nПоложительные качества: Надежность, верность, чувственность."
                  "\n\nВозможные слабости: Упрямство, склонность к ревности, излишняя привязанность к материальным вещам.",
        "gemini": "Венера в Близнецах."
                  "\n\nКлючевые черты: Венера в Близнецах указывает на людей, которые ценят интеллектуальное общение и разнообразие в отношениях. Они склонны к флирту и любят обмениваться идеями с партнерами. Их привлекают умные и общительные люди."
                  "\n\nПоложительные качества: Остроумие, общительность, гибкость."
                  "\n\nВозможные слабости: Непостоянство, поверхностность, склонность к непредсказуемости.",
        "cancer": "Венера в Раке."
                  "\n\nКлючевые черты: Венера в Раке указывает на людей с глубокими и эмоциональными связями в любви. Они ценят семейные узы и стремятся к созданию уютного и безопасного пространства для своих близких. Их чувства часто глубоки и нежны."
                  "\n\nПоложительные качества: Чуткость, заботливость, интуиция."
                  "\n\nВозможные слабости: Обидчивость, склонность к перепадам настроения, излишняя зависимость от других.",
        "leo": "Венера во Льве."
               "\n\nКлючевые черты: Венера во Льве указывает на людей с яркими и драматичными проявлениями любви. Они стремятся к признанию и одобрению со стороны партнера и окружающих. Их эмоции часто проявляются с большой интенсивностью и экспрессией."
               "\n\nПоложительные качества: Харизма, великодушие, уверенность."
               "\n\nВозможные слабости: Эгоцентризм, стремление к драматизации, потребность в признании.",
        "virgo": "Венера в Деве."
                 "\n\nКлючевые черты: Венера в Деве указывает на людей с практичным и аналитическим подходом к любви. Они склонны к внимательности к деталям и стремятся к порядку в отношениях. Их чувства часто проявляются через заботу о других."
                 "\n\nПоложительные качества: Скрупулезность, надежность, внимательность."
                 "\n\nВозможные слабости: Критичность, тревожность, излишняя требовательность.",
        "libra": "Венера в Весах."
                 "\n\nКлючевые черты: Венера в Весах указывает на людей, которые стремятся к гармонии и балансу в отношениях. Они ценят красоту и эстетику в любви и стремятся к созданию гармоничных и равноправных партнерств."
                 "\n\nПоложительные качества: Дипломатичность, обаяние, чувство справедливости."
                 "\n\nВозможные слабости: Нерешительность, склонность к угождению другим, избегание конфликтов.",
        "scorpio": "Венера в Скорпионе."
                   "\n\nКлючевые черты: Венера в Скорпионе указывает на людей с глубокими и интенсивными эмоциональными переживаниями в любви. Они стремятся к эмоциональной трансформации и часто испытывают сильные и иногда экстремальные чувства в отношениях."
                   "\n\nПоложительные качества: Проницательность, страстность, решительность."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям.",
        "sagittarius": "Венера в Стрельце."
                       "\n\nКлючевые черты: Венера в Стрельце указывает на людей с оптимистичным и открытым подходом к любви. Они любят приключения и свободу и стремятся к расширению своих эмоциональных горизонтов в отношениях."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, прямолинейность."
                       "\n\nВозможные слабости: Беспечность, излишняя прямолинейность, нетерпеливость.",
        "capricorn": "Венера в Козероге."
                     "\n\nКлючевые черты: Венера в Козероге указывает на людей с дисциплинированным и ответственным подходом к любви. Они ценят стабильность и структурированность в отношениях и стремятся к достижению долгосрочных целей."
                     "\n\nПоложительные качества: Надежность, усердие, терпение."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии.",
        "aquarius": "Венера в Водолее."
                    "\n\nКлючевые черты: Венера в Водолее указывает на людей с новаторским и независимым подходом к любви. Они ценят свободу и оригинальность в отношениях и стремятся к прогрессивным и гуманистическим идеям."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность.",
        "pisces": "Венера в Рыбах."
                  "\n\nКлючевые черты: Венера в Рыбах указывает на людей с мечтательным и интуитивным подходом к любви. Они обладают сильной эмпатией и часто проявляют художественные таланты в отношениях. Их чувства часто глубоки и проникновенны."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    },
    "mars": {
        "aries": "Марс в Овне."
                 "\n\nКлючевые черты: Марс в Овне указывает на энергичных и решительных людей, которые стремятся к новым начинаниям и любят быть первыми. Они обладают большой силой воли и часто проявляют инициативу в действиях."
                 "\n\nПоложительные качества: Смелость, решительность, активность."
                 "\n\nВозможные слабости: Импульсивность, нетерпеливость, агрессивность.",
        "taurus": "Марс в Тельце."
                  "\n\nКлючевые черты: Марс в Тельце указывает на упорных и настойчивых людей, которые стремятся к достижению своих целей. Они обладают большой выдержкой и склонны к долгосрочным проектам."
                  "\n\nПоложительные качества: Терпение, настойчивость, надежность."
                  "\n\nВозможные слабости: Упрямство, медлительность, склонность к инертности.",
        "gemini": "Марс в Близнецах."
                  "\n\nКлючевые черты: Марс в Близнецах указывает на людей с быстрым умом и энергичными мыслями. Они любят разнообразие и стремятся к новым знаниям и опыту. Их действия часто продиктованы интеллектуальными интересами."
                  "\n\nПоложительные качества: Остроумие, гибкость, энергичность."
                  "\n\nВозможные слабости: Непостоянство, поверхностность, нервозность.",
        "cancer": "Марс в Раке."
                  "\n\nКлючевые черты: Марс в Раке указывает на людей с эмоциональными и защитными действиями. Они стремятся к безопасности и часто действуют исходя из своих чувств и интуиции. Их действия часто направлены на защиту близких."
                  "\n\nПоложительные качества: Чуткость, заботливость, интуиция."
                  "\n\nВозможные слабости: Обидчивость, склонность к перепадам настроения, излишняя зависимость от эмоций.",
        "leo": "Марс во Льве."
               "\n\nКлючевые черты: Марс во Льве указывает на людей с яркими и драматичными действиями. Они стремятся к признанию и одобрению со стороны других. Их действия часто направлены на привлечение внимания и достижение успеха."
               "\n\nПоложительные качества: Харизма, уверенность, лидерство."
               "\n\nВозможные слабости: Эгоцентризм, стремление к драматизации, потребность в признании.",
        "virgo": "Марс в Деве."
                 "\n\nКлючевые черты: Марс в Деве указывает на людей с практичным и аналитическим подходом к действиям. Они стремятся к порядку и деталям в своих делах. Их действия часто направлены на достижение практических целей."
                 "\n\nПоложительные качества: Скрупулезность, надежность, аналитичность."
                 "\n\nВозможные слабости: Критичность, тревожность, излишняя требовательность.",
        "libra": "Марс в Весах."
                 "\n\nКлючевые черты: Марс в Весах указывает на людей, стремящихся к гармонии и справедливости в своих действиях. Они склонны к дипломатичности и стараются избегать конфликтов. Их действия часто направлены на поддержание баланса и гармонии."
                 "\n\nПоложительные качества: Дипломатичность, обаяние, чувство справедливости."
                 "\n\nВозможные слабости: Нерешительность, склонность к угождению другим, избегание конфликтов.",
        "scorpio": "Марс в Скорпионе."
                   "\n\nКлючевые черты: Марс в Скорпионе указывает на людей с глубокими и интенсивными действиями. Они стремятся к трансформации и часто действуют с большой решимостью и страстью. Их действия направлены на достижение глубинных изменений."
                   "\n\nПоложительные качества: Проницательность, страстность, решительность."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям.",
        "sagittarius": "Марс в Стрельце."
                       "\n\nКлючевые черты: Марс в Стрельце указывает на людей с оптимистичным и открытым подходом к действиям. Они любят приключения и свободу и стремятся к расширению своих горизонтов. Их действия направлены на достижение новых знаний и опыта."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, прямолинейность."
                       "\n\nВозможные слабости: Беспечность, излишняя прямолинейность, нетерпеливость.",
        "capricorn": "Марс в Козероге."
                     "\n\nКлючевые черты: Марс в Козероге указывает на людей с дисциплинированным и ответственным подходом к действиям. Они ценят стабильность и структурированность в своих делах и стремятся к достижению долгосрочных целей."
                     "\n\nПоложительные качества: Надежность, усердие, терпение."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии.",
        "aquarius": "Марс в Водолее."
                    "\n\nКлючевые черты: Марс в Водолее указывает на людей с новаторским и независимым подходом к действиям. Они ценят свободу и оригинальность и стремятся к прогрессивным и гуманистическим идеям. Их действия направлены на инновации и оригинальные решения."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность.",
        "pisces": "Марс в Рыбах."
                  "\n\nКлючевые черты: Марс в Рыбах указывает на людей с мечтательным и интуитивным подходом к действиям. Они обладают сильной эмпатией и часто проявляют художественные таланты в своих действиях. Их действия направлены на достижение эмоциональных и духовных целей."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    },
    "jupiter": {
        "aries": "Юпитер в Овне."
                 "\n\nКлючевые черты: Юпитер в Овне указывает на людей с сильным чувством уверенности и энтузиазма. Они стремятся к самостоятельности и независимости и любят быть первыми в своих начинаниях."
                 "\n\nПоложительные качества: Смелость, оптимизм, инициатива."
                 "\n\nВозможные слабости: Импульсивность, нетерпеливость, склонность к рискованным поступкам.",
        "taurus": "Юпитер в Тельце."
                  "\n\nКлючевые черты: Юпитер в Тельце указывает на людей, которые стремятся к материальному благополучию и стабильности. Они ценят комфорт и безопасность и обладают сильным стремлением к накоплению богатства."
                  "\n\nПоложительные качества: Терпение, настойчивость, верность."
                  "\n\nВозможные слабости: Материализм, склонность к медлительности, упрямство.",
        "gemini": "Юпитер в Близнецах."
                  "\n\nКлючевые черты: Юпитер в Близнецах указывает на людей с быстрым умом и любознательностью. Они стремятся к новым знаниям и опытам и обладают отличными коммуникативными навыками."
                  "\n\nПоложительные качества: Интеллектуальность, гибкость, общительность."
                  "\n\nВозможные слабости: Непостоянство, поверхностность, нервозность.",
        "cancer": "Юпитер в Раке."
                  "\n\nКлючевые черты: Юпитер в Раке указывает на людей с глубокими эмоциональными связями и чувством заботы. Они ценят семейные узы и стремятся к созданию уютного и безопасного пространства для своих близких."
                  "\n\nПоложительные качества: Чуткость, заботливость, интуиция."
                  "\n\nВозможные слабости: Обидчивость, склонность к перепадам настроения, излишняя зависимость от других.",
        "leo": "Юпитер во Льве."
               "\n\nКлючевые черты: Юпитер во Льве указывает на людей с яркими и драматичными проявлениями личности. Они стремятся к признанию и одобрению со стороны окружающих и любят быть в центре внимания."
               "\n\nПоложительные качества: Харизма, великодушие, уверенность."
               "\n\nВозможные слабости: Эгоцентризм, стремление к драматизации, потребность в признании.",
        "virgo": "Юпитер в Деве."
                 "\n\nКлючевые черты: Юпитер в Деве указывает на людей с практичным и аналитическим подходом к жизни. Они стремятся к порядку и совершенству и часто проявляют заботу о других."
                 "\n\nПоложительные качества: Скрупулезность, надёжность, внимательность."
                 "\n\nВозможные слабости: Критичность, тревожность, излишняя требовательность.",
        "libra": "Юпитер в Весах."
                 "\n\nКлючевые черты: Юпитер в Весах указывает на людей, которые стремятся к гармонии и справедливости в своей жизни. Они ценят красоту и эстетику и стремятся к созданию гармоничных отношений."
                 "\n\nПоложительные качества: Дипломатичность, обаяние, чувство справедливости."
                 "\n\nВозможные слабости: Нерешительность, склонность к угождению другим, избегание конфликтов.",
        "scorpio": "Юпитер в Скорпионе."
                   "\n\nКлючевые черты: Юпитер в Скорпионе указывает на людей с глубокими и интенсивными эмоциональными переживаниями. Они стремятся к трансформации и обладают мощной интуицией."
                   "\n\nПоложительные качества: Проницательность, страстность, решительность."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям.",
        "sagittarius": "Юпитер в Стрельце."
                       "\n\nКлючевые черты: Юпитер в Стрельце указывает на людей с оптимистичным и открытым подходом к жизни. Они любят приключения и стремятся к расширению своих горизонтов."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, прямолинейность."
                       "\n\nВозможные слабости: Беспечность, излишняя прямолинейность, нетерпеливость.",
        "capricorn": "Юпитер в Козероге."
                     "\n\nКлючевые черты: Юпитер в Козероге указывает на людей с дисциплинированным и ответственным подходом к жизни. Они стремятся к стабильности и успеху и обладают сильной целеустремленностью."
                     "\n\nПоложительные качества: Надежность, усердие, терпение."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии.",
        "aquarius": "Юпитер в Водолее."
                    "\n\nКлючевые черты: Юпитер в Водолее указывает на людей с новаторским и независимым подходом к жизни. Они ценят свободу и оригинальность и стремятся к прогрессивным и гуманистическим идеям."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность.",
        "pisces": "Юпитер в Рыбах."
                  "\n\nКлючевые черты: Юпитер в Рыбах указывает на людей с мечтательным и интуитивным подходом к жизни. Они обладают сильной эмпатией и часто проявляют художественные таланты."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    },
    "saturn": {
        "aries": "Сатурн в Овне."
                 "\n\nКлючевые черты: Сатурн в Овне указывает на дисциплинированных и решительных людей, которые стремятся к лидерству и независимости. Они обладают сильной волей и готовы брать на себя ответственность."
                 "\n\nПоложительные качества: Смелость, решительность, целеустремленность."
                 "\n\nВозможные слабости: Импульсивность, нетерпеливость, склонность к конфликтам.",
        "taurus": "Сатурн в Тельце."
                  "\n\nКлючевые черты: Сатурн в Тельце указывает на людей, которые ценят стабильность и безопасность. Они стремятся к материальному благополучию и обладают сильной работоспособностью."
                  "\n\nПоложительные качества: Терпение, настойчивость, надёжность."
                  "\n\nВозможные слабости: Упрямство, склонность к консерватизму, медлительность.",
        "gemini": "Сатурн в Близнецах."
                  "\n\nКлючевые черты: Сатурн в Близнецах указывает на людей с логическим и аналитическим умом. Они стремятся к получению знаний и обладают способностью к глубокому анализу."
                  "\n\nПоложительные качества: Интеллектуальность, гибкость, внимательность к деталям."
                  "\n\nВозможные слабости: Нервозность, склонность к поверхностному подходу, непостоянство.",
        "cancer": "Сатурн в Раке."
                  "\n\nКлючевые черты: Сатурн в Раке указывает на людей с сильным чувством ответственности и заботы о других. Они стремятся к созданию безопасного и стабильного окружения для своих близких."
                  "\n\nПоложительные качества: Заботливость, интуиция, эмоциональная устойчивость."
                  "\n\nВозможные слабости: Обидчивость, склонность к самоизоляции, излишняя зависимость от других.",
        "leo": "Сатурн во Льве."
               "\n\nКлючевые черты: Сатурн во Льве указывает на людей с сильным чувством собственного достоинства и стремлением к признанию. Они обладают лидерскими качествами и стремятся к достижению высоких целей."
               "\n\nПоложительные качества: Харизма, ответственность, уверенность."
               "\n\nВозможные слабости: Эгоцентризм, стремление к контролю, потребность в признании.",
        "virgo": "Сатурн в Деве."
                 "\n\nКлючевые черты: Сатурн в Деве указывает на людей с практичным и аналитическим подходом к жизни. Они стремятся к порядку и совершенству и обладают способностью к организации и управлению."
                 "\n\nПоложительные качества: Скрупулезность, надёжность, внимательность к деталям."
                 "\n\nВозможные слабости: Критичность, склонность к перфекционизму, тревожность.",
        "libra": "Сатурн в Весах."
                 "\n\nКлючевые черты: Сатурн в Весах указывает на людей, стремящихся к гармонии и справедливости. Они обладают дипломатическими способностями и стремятся к созданию сбалансированных и справедливых отношений."
                 "\n\nПоложительные качества: Дипломатичность, справедливость, обаяние."
                 "\n\nВозможные слабости: Нерешительность, стремление к угождению другим, избегание конфликтов.",
        "scorpio": "Сатурн в Скорпионе."
                   "\n\nКлючевые черты: Сатурн в Скорпионе указывает на людей с сильным чувством решимости и стремлением к глубоким изменениям. Они обладают мощной интуицией и способностью к трансформации."
                   "\n\nПоложительные качества: Проницательность, решительность, эмоциональная глубина."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям.",
        "sagittarius": "Сатурн в Стрельце."
                       "\n\nКлючевые черты: Сатурн в Стрельце указывает на людей с открытым и философским подходом к жизни. Они стремятся к расширению своих горизонтов и обладают стремлением к знаниям и саморазвитию."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, целеустремленность."
                       "\n\nВозможные слабости: Беспечность, склонность к рискованным поступкам, нетерпеливость.",
        "capricorn": "Сатурн в Козероге."
                     "\n\nКлючевые черты: Сатурн в Козероге указывает на людей с сильной трудоспособностью и стремлением к успеху. Они обладают дисциплиной и настойчивостью в достижении своих целей."
                     "\n\nПоложительные качества: Надёжность, трудолюбие, ответственность."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии.",
        "aquarius": "Сатурн в Водолее."
                    "\n\nКлючевые черты: Сатурн в Водолее указывает на людей с новаторским и независимым подходом к жизни. Они ценят свободу и оригинальность и стремятся к прогрессивным и гуманистическим идеям."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность.",
        "pisces": "Сатурн в Рыбах."
                  "\n\nКлючевые черты: Сатурн в Рыбах указывает на людей с мечтательным и интуитивным подходом к жизни. Они обладают сильной эмпатией и стремятся к духовному росту и самопознанию."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    },
    "uranus": {
        "aries": "Уран в Овне."
                 "\n\nКлючевые черты: Уран в Овне указывает на новаторских и независимых людей, которые стремятся к новаторским решениям и готовы брать на себя риски. Они обладают сильной волей и стремятся к личной свободе."
                 "\n\nПоложительные качества: Инициатива, оригинальность, смелость."
                 "\n\nВозможные слабости: Импульсивность, непредсказуемость, склонность к конфликтам.",
        "taurus": "Уран в Тельце."
                  "\n\nКлючевые черты: Уран в Тельце указывает на людей, которые стремятся к стабильным, но оригинальным решениям. Они любят экспериментировать в области финансов и материальных благ, а также стремятся к прогрессивным изменениям."
                  "\n\nПоложительные качества: Практичность, креативность, настойчивость."
                  "\n\nВозможные слабости: Упрямство, сопротивление изменениям, медлительность.",
        "gemini": "Уран в Близнецах."
                  "\n\nКлючевые черты: Уран в Близнецах указывает на людей с быстрым умом и стремлением к новым знаниям. Они любят обмениваться идеями и искать новые способы коммуникации, а также стремятся к интеллектуальной свободе."
                  "\n\nПоложительные качества: Остроумие, адаптивность, изобретательность."
                  "\n\nВозможные слабости: Нервозность, непостоянство, склонность к поверхностности.",
        "cancer": "Уран в Раке."
                  "\n\nКлючевые черты: Уран в Раке указывает на людей с новаторским подходом к семейным и эмоциональным вопросам. Они стремятся к созданию уникальных и нестандартных семейных традиций и ценят эмоциональную свободу."
                  "\n\nПоложительные качества: Чуткость, интуиция, креативность."
                  "\n\nВозможные слабости: Обидчивость, склонность к перепадам настроения, нестабильность.",
        "leo": "Уран во Льве."
               "\n\nКлючевые черты: Уран во Льве указывает на людей с яркими и драматичными проявлениями личности. Они стремятся к признанию и оригинальности и часто проявляют творческий подход к своей жизни."
               "\n\nПоложительные качества: Харизма, креативность, независимость."
               "\n\nВозможные слабости: Эгоцентризм, стремление к драматизации, потребность в признании.",
        "virgo": "Уран в Деве."
                 "\n\nКлючевые черты: Уран в Деве указывает на людей с аналитическим и новаторским подходом к жизни. Они стремятся к улучшению и модернизации рабочих процессов и часто находят уникальные решения для повседневных задач."
                 "\n\nПоложительные качества: Скрупулезность, изобретательность, практичность."
                 "\n\nВозможные слабости: Критичность, склонность к перфекционизму, нервозность.",
        "libra": "Уран в Весах."
                 "\n\nКлючевые черты: Уран в Весах указывает на людей, стремящихся к гармонии и справедливости, но с новаторским подходом. Они стремятся к прогрессивным изменениям в отношениях и социальной сфере и часто имеют уникальные взгляды на партнерства."
                 "\n\nПоложительные качества: Дипломатичность, креативность, гуманизм."
                 "\n\nВозможные слабости: Нерешительность, стремление к угождению другим, избегание конфликтов.",
        "scorpio": "Уран в Скорпионе."
                   "\n\nКлючевые черты: Уран в Скорпионе указывает на людей с мощной интуицией и стремлением к глубоким изменениям. Они ищут трансформации и часто стремятся к эмоциональной и психической свободе."
                   "\n\nПоложительные качества: Проницательность, креативность, решительность."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям.",
        "sagittarius": "Уран в Стрельце."
                       "\n\nКлючевые черты: Уран в Стрельце указывает на людей с открытым и новаторским подходом к жизни. Они стремятся к приключениям и новым знаниям и часто ищут интеллектуальную и духовную свободу."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, креативность."
                       "\n\nВозможные слабости: Беспечность, склонность к рискованным поступкам, непостоянство.",
        "capricorn": "Уран в Козероге."
                     "\n\nКлючевые черты: Уран в Козероге указывает на людей с дисциплинированным и новаторским подходом к жизни. Они стремятся к успеху и стабильности, но при этом ищут уникальные и прогрессивные решения."
                     "\n\nПоложительные качества: Надёжность, изобретательность, целеустремленность."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии.",
        "aquarius": "Уран в Водолее."
                    "\n\nКлючевые черты: Уран в Водолее указывает на людей с оригинальным и независимым подходом к жизни. Они ценят свободу и новаторство и стремятся к прогрессивным и гуманистическим идеям."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность.",
        "pisces": "Уран в Рыбах."
                  "\n\nКлючевые черты: Уран в Рыбах указывает на людей с мечтательным и интуитивным подходом к жизни. Они обладают сильной эмпатией и часто стремятся к духовной свободе и самопознанию."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    },
    "neptune": {
        "aries": "Нептун в Овне."
                 "\n\nКлючевые черты: Нептун в Овне указывает на людей с ярким воображением и стремлением к духовным поискам. Они склонны к идеализации и могут быть вдохновленными лидерами, стремящимися к новаторским идеям."
                 "\n\nПоложительные качества: Вдохновение, смелость, новаторство."
                 "\n\nВозможные слабости: Импульсивность, склонность к иллюзиям, непредсказуемость.",
        "taurus": "Нептун в Тельце."
                  "\n\nКлючевые черты: Нептун в Тельце указывает на людей, которые ценят красоту и гармонию в материальной сфере. Они обладают художественными и эстетическими способностями и стремятся к созданию комфортной и приятной среды."
                  "\n\nПоложительные качества: Художественные способности, стремление к гармонии, чувственность."
                  "\n\nВозможные слабости: Материализм, склонность к самообману, инертность.",
        "gemini": "Нептун в Близнецах."
                  "\n\nКлючевые черты: Нептун в Близнецах указывает на людей с богатым воображением и стремлением к новым знаниям. Они обладают отличными коммуникативными навыками и могут быть вдохновленными рассказчиками и писателями."
                  "\n\nПоложительные качества: Остроумие, адаптивность, творчество."
                  "\n\nВозможные слабости: Нервозность, непостоянство, склонность к фантазиям.",
        "cancer": "Нептун в Раке."
                  "\n\nКлючевые черты: Нептун в Раке указывает на людей с глубокими эмоциональными связями и сильной интуицией. Они склонны к созданию уютного и защищенного пространства для своих близких и обладают художественными талантами."
                  "\n\nПоложительные качества: Чуткость, заботливость, интуиция."
                  "\n\nВозможные слабости: Обидчивость, склонность к перепадам настроения, излишняя зависимость от других.",
        "leo": "Нептун во Льве."
               "\n\nКлючевые черты: Нептун во Льве указывает на людей с яркими и драматичными проявлениями личности. Они обладают творческими способностями и стремятся к самовыражению через искусство и творчество."
               "\n\nПоложительные качества: Харизма, креативность, вдохновение."
               "\n\nВозможные слабости: Эгоцентризм, стремление к драматизации, потребность в признании.",
        "virgo": "Нептун в Деве."
                 "\n\nКлючевые черты: Нептун в Деве указывает на людей с аналитическим и интуитивным подходом к жизни. Они стремятся к совершенству и обладают способностью к тонкому анализу и внимательности к деталям."
                 "\n\nПоложительные качества: Скрупулезность, интуиция, аналитичность."
                 "\n\nВозможные слабости: Критичность, склонность к самообману, нервозность.",
        "libra": "Нептун в Весах."
                 "\n\nКлючевые черты: Нептун в Весах указывает на людей, стремящихся к гармонии и эстетике в отношениях. Они обладают дипломатическими способностями и стремятся к созданию гармоничных и сбалансированных партнерств."
                 "\n\nПоложительные качества: Дипломатичность, креативность, гуманизм."
                 "\n\nВозможные слабости: Нерешительность, склонность к иллюзиям, избегание конфликтов.",
        "scorpio": "Нептун в Скорпионе."
                   "\n\nКлючевые черты: Нептун в Скорпионе указывает на людей с мощной интуицией и стремлением к глубокой трансформации. Они обладают сильными эмоциональными переживаниями и стремятся к духовным поискам."
                   "\n\nПоложительные качества: Проницательность, креативность, решительность."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к иллюзиям.",
        "sagittarius": "Нептун в Стрельце."
                       "\n\nКлючевые черты: Нептун в Стрельце указывает на людей с открытым и философским подходом к жизни. Они стремятся к духовному росту и саморазвитию и обладают творческими способностями."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, креативность."
                       "\n\nВозможные слабости: Беспечность, склонность к иллюзиям, непостоянство.",
        "capricorn": "Нептун в Козероге."
                     "\n\nКлючевые черты: Нептун в Козероге указывает на людей с дисциплинированным и интуитивным подходом к жизни. Они стремятся к достижению своих целей и обладают сильной внутренней мотивацией."
                     "\n\nПоложительные качества: Надёжность, интуиция, целеустремленность."
                     "\n\nВозможные слабости: Пессимизм, склонность к самообману, чрезмерная строгость.",
        "aquarius": "Нептун в Водолее."
                    "\n\nКлючевые черты: Нептун в Водолее указывает на людей с оригинальным и независимым подходом к жизни. Они ценят свободу и новаторство и стремятся к прогрессивным и гуманистическим идеям."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, склонность к фантазиям.",
        "pisces": "Нептун в Рыбах."
                  "\n\nКлючевые черты: Нептун в Рыбах указывает на людей с мечтательным и интуитивным подходом к жизни. Они обладают сильной эмпатией и стремятся к духовной свободе и самопознанию."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    },
"pluto": {
        "aries": "Плутон в Овне."
                 "\n\nКлючевые черты: Плутон в Овне указывает на людей с сильной волей и стремлением к трансформациям. Они обладают огромной энергией и стремятся к власти и контролю над своей жизнью."
                 "\n\nПоложительные качества: Смелость, решительность, лидерство."
                 "\n\nВозможные слабости: Импульсивность, агрессивность, склонность к конфликтам.",
        "taurus": "Плутон в Тельце."
                  "\n\nКлючевые черты: Плутон в Тельце указывает на людей с глубокой привязанностью к материальному миру и стремлением к стабильности. Они обладают способностью к кардинальным изменениям в сфере финансов и личных ценностей."
                  "\n\nПоложительные качества: Терпение, настойчивость, верность."
                  "\n\nВозможные слабости: Упрямство, материализм, склонность к инертности.",
        "gemini": "Плутон в Близнецах."
                  "\n\nКлючевые черты: Плутон в Близнецах указывает на людей с мощным умом и стремлением к интеллектуальным трансформациям. Они обладают способностью к глубокому анализу и часто ищут новые знания и опыт."
                  "\n\nПоложительные качества: Остроумие, адаптивность, интеллект."
                  "\n\nВозможные слабости: Нервозность, непостоянство, склонность к манипуляциям.",
        "cancer": "Плутон в Раке."
                  "\n\nКлючевые черты: Плутон в Раке указывает на людей с глубокими эмоциональными связями и стремлением к трансформациям в семейной сфере. Они обладают сильной интуицией и стремятся к защите своих близких."
                  "\n\nПоложительные качества: Чуткость, заботливость, интуиция."
                  "\n\nВозможные слабости: Обидчивость, склонность к перепадам настроения, эмоциональная зависимость.",
        "leo": "Плутон во Льве."
               "\n\nКлючевые черты: Плутон во Льве указывает на людей с яркими и драматичными проявлениями личности. Они стремятся к власти и признанию и обладают сильной харизмой и лидерскими качествами."
               "\n\nПоложительные качества: Харизма, креативность, уверенность."
               "\n\nВозможные слабости: Эгоцентризм, стремление к контролю, потребность в признании.",
        "virgo": "Плутон в Деве."
                 "\n\nКлючевые черты: Плутон в Деве указывает на людей с аналитическим и критическим подходом к жизни. Они стремятся к совершенству и обладают способностью к глубокому анализу и трансформациям в сфере работы и здоровья."
                 "\n\nПоложительные качества: Скрупулезность, аналитичность, практичность."
                 "\n\nВозможные слабости: Критичность, перфекционизм, нервозность.",
        "libra": "Плутон в Весах."
                 "\n\nКлючевые черты: Плутон в Весах указывает на людей, стремящихся к гармонии и справедливости в отношениях. Они обладают мощной интуицией и стремятся к глубоким трансформациям в сфере партнерств и социальных взаимодействий."
                 "\n\nПоложительные качества: Дипломатичность, интуиция, стремление к справедливости."
                 "\n\nВозможные слабости: Нерешительность, склонность к манипуляциям, избегание конфликтов.",
        "scorpio": "Плутон в Скорпионе."
                   "\n\nКлючевые черты: Плутон в Скорпионе указывает на людей с мощной волей и стремлением к глубоким эмоциональным и психологическим трансформациям. Они обладают сильной интуицией и стремятся к личной и духовной трансформации."
                   "\n\nПоложительные качества: Проницательность, решительность, эмоциональная глубина."
                   "\n\nВозможные слабости: Ревность, подозрительность, склонность к манипуляциям.",
        "sagittarius": "Плутон в Стрельце."
                       "\n\nКлючевые черты: Плутон в Стрельце указывает на людей с открытым и философским подходом к жизни. Они стремятся к духовному росту и самопознанию и обладают стремлением к глубоким трансформациям в сфере знаний и убеждений."
                       "\n\nПоложительные качества: Оптимизм, энтузиазм, креативность."
                       "\n\nВозможные слабости: Склонность к фанатизму, беспечность, непостоянство.",
        "capricorn": "Плутон в Козероге."
                     "\n\nКлючевые черты: Плутон в Козероге указывает на людей с дисциплинированным и целеустремленным подходом к жизни. Они стремятся к власти и признанию и обладают способностью к глубоким трансформациям в сфере карьеры и общественного статуса."
                     "\n\nПоложительные качества: Надёжность, целеустремленность, ответственность."
                     "\n\nВозможные слабости: Пессимизм, чрезмерная строгость, склонность к депрессии.",
        "aquarius": "Плутон в Водолее."
                    "\n\nКлючевые черты: Плутон в Водолее указывает на людей с новаторским и независимым подходом к жизни. Они ценят свободу и стремятся к глубоким трансформациям в социальной и гуманитарной сферах."
                    "\n\nПоложительные качества: Креативность, оригинальность, гуманизм."
                    "\n\nВозможные слабости: Непредсказуемость, отчужденность, эксцентричность.",
        "pisces": "Плутон в Рыбах."
                  "\n\nКлючевые черты: Плутон в Рыбах указывает на людей с мечтательным и интуитивным подходом к жизни. Они обладают сильной эмпатией и стремятся к глубоким духовным трансформациям и самопознанию."
                  "\n\nПоложительные качества: Сочувствие, творчество, интуиция."
                  "\n\nВозможные слабости: Склонность к иллюзиям, излишняя эмоциональность, неуверенность."
    }
}


# Функция для получения координат по названию города
def get_coordinates(city_name):
    try:
        location = geolocator.geocode(city_name)
        if location:
            return location.latitude, location.longitude
        else:
            print(f"Не удалось найти координаты для города: {city_name}")
            return None, None
    except Exception as e:
        print(f"Произошла ошибка при геокодировании города {city_name}: {e}")
        return None, None


# Получение знака зодиака
def get_zodiac_sign(degree):
    signs = ["aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpio", "sagittarius", "capricorn",
             "aquarius", "pisces"]
    return signs[int(degree / 30)]


# Интерпретация планет в знаках
def interpret_planet_sign(planet, sign):
    return interpretations.get(planet, {}).get(sign, "Нет интерпретации для этого положения.")


# Состояния для пользователя
user_data = {}


# Команда /start
@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.reply_to(message, "Добро пожаловать! Давайте начнем с ввода даты рождения. Введите дату в формате ГГГГ-ММ-ДД:")
    bot.register_next_step_handler(message, process_date_of_birth)


# Обработка ввода даты рождения
def process_date_of_birth(message):
    try:
        date_of_birth = message.text
        year, month, day = map(int, date_of_birth.split('-'))
        user_data['year'] = year
        user_data['month'] = month
        user_data['day'] = day
        bot.reply_to(message, "Отлично! Теперь введите время рождения в формате ЧЧ:ММ:")
        bot.register_next_step_handler(message, process_time_of_birth)
    except Exception as e:
        bot.reply_to(message, "Произошла ошибка. Пожалуйста, введите дату в правильном формате ГГГГ-ММ-ДД:")


# Обработка ввода времени рождения
def process_time_of_birth(message):
    try:
        time_of_birth = message.text
        hour, minute = map(int, time_of_birth.split(':'))
        user_data['hour'] = hour
        user_data['minute'] = minute
        bot.reply_to(message, "Отлично! Наконец, введите город рождения:")
        bot.register_next_step_handler(message, process_city_of_birth)
    except Exception as e:
        bot.reply_to(message, "Произошла ошибка. Пожалуйста, введите время в правильном формате ЧЧ:ММ:")


# Обработка ввода города рождения
def process_city_of_birth(message):
    try:
        city_name = message.text
        latitude, longitude = get_coordinates(city_name)
        if latitude is None or longitude is None:
            bot.reply_to(message,
                         "Не удалось найти координаты для указанного города. Пожалуйста, введите название города снова:")
            bot.register_next_step_handler(message, process_city_of_birth)
            return

        # Рассчитайте юлианскую дату
        julday = swe.julday(user_data['year'], user_data['month'], user_data['day'],
                            user_data['hour'] + user_data['minute'] / 60.0)

        # Список планет для расчёта
        planets = [swe.SUN, swe.MOON, swe.MERCURY, swe.VENUS, swe.MARS,
                   swe.JUPITER, swe.SATURN, swe.URANUS, swe.NEPTUNE, swe.PLUTO]

        # Расчёт положений планет
        planet_positions = {}
        for planet in planets:
            lon, lat, rad = swe.calc_ut(julday, planet)[0][:3]
            planet_positions[planet] = lon

        # Расчёт домов
        houses, ascmc = swe.houses(julday, latitude, longitude, b'P')  # 'P' для системы Плацидуса

        # Составление общей интерпретации
        interpretation = "Общая интерпретация натальной карты:\n\n"

        interpretation_parts = []  # Список для хранения частей интерпретации

        for planet, position in planet_positions.items():
            sign = get_zodiac_sign(position)
            planet_name = swe.get_planet_name(planet).lower()
            planet_interpretation = interpret_planet_sign(planet_name, sign)
            interpretation_part = f"{swe.get_planet_name(planet)} в {sign.capitalize()}:\n{planet_interpretation}\n\n"
            interpretation_parts.append(interpretation_part)

        # Отправка частей интерпретации
        for part in interpretation_parts:
            bot.send_message(message.chat.id, part)

        # Генерация изображения
        plt.figure(figsize=(10, 10))
        plt.polar([position for position in planet_positions.values()], [1] * len(planet_positions), 'o')
        plt.title("Положения планет на момент рождения")
        for planet, position in planet_positions.items():
            plt.text(position, 1, swe.get_planet_name(planet), horizontalalignment='center', verticalalignment='center')
        plt.savefig('natal_chart.png')

        # Отправка изображения пользователю
        with open('natal_chart.png', 'rb') as photo:
            bot.send_photo(message.chat.id, photo)
    except Exception as e:
        bot.reply_to(message, f"Произошла ошибка: {e}\nПожалуйста, введите название города снова:")
        bot.register_next_step_handler(message, process_city_of_birth)


# Запуск бота
bot.polling()
